<body onload="start()">
<script src="jCanvaScript.1.5.7.js" type="text/javascript"></script>
<script type="text/javascript">
	function start()
	{
		jc.start('myCanvas',true);
		jc.rect(50,50,100,100,1)
				.click(function(){alert(3);}).draggable()
				.id('myRect');
		jc.rect(0,0,100,80,0)
				.click(function(){alert(2);return false;});
		jc.circle(30,30,20,'#ff0000',0)
				.click(function(){alert(1);});

	}
	function up()
	{
		jc({canvas:'myCanvas',attrs:{
				proto:'rect'
			},
			fns:[{
					fn:'isPointIn',
					rel:'==',
					val:true,
					args:[49,50]
				},
				{
					fn:'attr',
					rel:'>',
					val:-10,
					args:['x']
				},
			]}).translate(100,100);
	}
	function top()
	{
		jc({canvas:'myCanvas',attrs:{
			fill: {val:0,rel:'>'}
		}}).translate(100,100);
	}
	function bottom()
	{
		jc({canvas:'myCanvas',attrs:{
			proto: 'rect'
		}}).translate(100,100);
	}
	function left()
	{
		jc({canvas:'myCanvas',attrs:{
			proto: 'rect',
			fill:1
		}}).translate(100,100);
	}
	function next()
	{
		//takes all objects on myCanvas
		var myGroup=jc({canvas:'myCanvas'});
		//first find
		myGroup
			.find({attrs:{
					proto:'rect'
				},
				fns:[{
						fn:'isPointIn',
						rel:'==',
						val:true,
						args:[50,50]
					}]
			})
			.find({fns:[
					{
						fn:'attr',
						rel:'>',
						val:0,
						args:['x']
					}
				]}).translate(100,100)
			//all unmatched - unfilled rect
			.reverse().translate(-50,0)
			//before all finds - all objects
	/**/	.end().translate(0,50);
			//or before last find - all rects (you can use not only 1, but any positive number)
	/*		.end(1).translate(0,50);	*/
		//second find
		myGroup.find({
			attrs:{
				proto:'circle'
			}
		}).translate(100,50);
	}
</script>
<style>
	#myCanvas{
		border:1px solid black;
	}
</style>
<div  >
	<canvas id="myCanvas" width="400px" height="400px"></canvas>
</div><br/>
<input type="button" onclick="up()" value="1"/>
<input type="button" onclick="top()" value="2"/>
<input type="button" onclick="bottom()" value="3"/>
<input type="button" onclick="left()" value="4"/>
<input type="button" onclick="next()" value="5"/>
</body>
