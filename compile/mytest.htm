<body onload="start()">
<script src="jCanvaScript.1.6.0.js" type="text/javascript"></script>
<script type="text/javascript">
	function start()
	{
		jc.start('myCanvas',true);

		jc.rect(0, 0, 400, 400, '#000000', '#000000');

		var objects = [[200, 200], [150, 300]];

		objects.forEach(function(item, index) {
			var circle_obj = jc.circle(item[0], item[1], 25,'#ff0000').fillColor('#ffffff');
			circle_obj.click(function(point){
				this.fillColor('#ff0000');
			});
			circle_obj.dblclick(function(point){
				this.fillColor('#00ff00');
			});
		});

	}
	function up()
	{
		jc({canvas:'myCanvas',attrs:{
				proto:'rect'
			},
			fns:[{
					fn:'isPointIn',
					rel:'==',
					val:true,
					args:[49,50]
				},
				{
					fn:'attr',
					rel:'>',
					val:-10,
					args:['x']
				}
			]}).translate(100,100);
	}
	function top()
	{
		jc.layer('1').objects().find({attrs:{fill:1}}).rotate(30,'center');
		/*
		jc({canvas:'myCanvas',attrs:{
			fill: {val:0,rel:'>'}
		}}).translate(100,100);*/
	}
	function bottom()
	{
		jc({canvas:'myCanvas',attrs:{
			proto: 'rect'
		}}).translate(100,100);
	}
	function left()
	{
		jc({canvas:'myCanvas',attrs:{
			proto: 'rect',
			fill:1
		}}).translate(100,100);
	}
	function next()
	{
		//takes all objects on myCanvas
		var myGroup=jc({canvas:'myCanvas'});
		//first find
		myGroup
			.find({attrs:{
					proto:'rect'
				},
				fns:[{
						fn:'isPointIn',
						rel:'==',
						val:true,
						args:[51,51]
					},{
						fn:'attr',
						rel:'>',
						val:0,
						args:['x']
					}
				]}).translate(100,100)
			//all unmatched - unfilled rect
			.reverse().translate(-50,0)
			//before all finds - all objects
	/*	.end().translate(0,50);			/**/
			//or before last find - all rects (you can use not only 1, but any positive number)
			.end(1).translate(0,50);	/**/
		//second find
		myGroup.find({
			attrs:{
				proto:'circle'
			}
		}).translate(100,50);
	}
</script>
<style>
	#myCanvas{
		border:1px solid black;
	}
</style>
<div  >
	<canvas id="myCanvas" width="400px" height="400px"></canvas>
</div><br/>
<input type="button" onclick="up()" value="1"/>
<input type="button" onclick="top()" value="2"/>
<input type="button" onclick="bottom()" value="3"/>
<input type="button" onclick="left()" value="4"/>
<input type="button" onclick="next()" value="5"/>
</body>
